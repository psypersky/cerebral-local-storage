{"version":3,"sources":["../../src/operators/getStorage.js"],"names":["getStorageFactory","key","getStorage","storage","resolve","path","value","get","Promise","then","success","error"],"mappings":";;;;;;;AAAA,SAASA,iBAAT,CAA2BC,GAA3B,EAAgC;AAC9B,WAASC,UAAT,OAAgD;AAAA,QAA1BC,OAA0B,QAA1BA,OAA0B;AAAA,QAAjBC,OAAiB,QAAjBA,OAAiB;AAAA,QAARC,IAAQ,QAARA,IAAQ;AAC9C,QAAMC,KAAK,GAAGH,OAAO,CAACI,GAAR,CAAYH,OAAO,CAACE,KAAR,CAAcL,GAAd,CAAZ,CAAd;;AAEA,QAAIK,KAAK,YAAYE,OAAjB,IAA4BH,IAAhC,EAAsC;AACpC,aAAOC,KAAK,CACTG,IADI,CACC;AAAA,eAAMJ,IAAI,CAACK,OAAL,EAAN;AAAA,OADD,WAEE,UAACC,KAAD;AAAA,eAAWN,IAAI,CAACM,KAAL,CAAW;AAAEA,UAAAA,KAAK,EAALA;AAAF,SAAX,CAAX;AAAA,OAFF,CAAP;AAGD,KAJD,MAIO,IAAIL,KAAK,YAAYE,OAArB,EAA8B;AACnC,aAAOF,KAAK,CAACG,IAAN,CAAW,UAACH,KAAD;AAAA,eAAY;AAC5BA,UAAAA,KAAK,EAALA;AAD4B,SAAZ;AAAA,OAAX,CAAP;AAGD;;AAED,WAAO;AACLA,MAAAA,KAAK,EAALA;AADK,KAAP;AAGD;;AAED,SAAOJ,UAAP;AACD;;eAEcF,iB","sourcesContent":["function getStorageFactory(key) {\n  function getStorage({ storage, resolve, path }) {\n    const value = storage.get(resolve.value(key))\n\n    if (value instanceof Promise && path) {\n      return value\n        .then(() => path.success())\n        .catch((error) => path.error({ error }))\n    } else if (value instanceof Promise) {\n      return value.then((value) => ({\n        value,\n      }))\n    }\n\n    return {\n      value,\n    }\n  }\n\n  return getStorage\n}\n\nexport default getStorageFactory\n"],"file":"getStorage.js"}